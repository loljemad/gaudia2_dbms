DROP DATABASE gymmanagement;
CREATE DATABASE gymmanagement;

USE gymmanagement;

CREATE TABLE client (
  client_id INT PRIMARY KEY AUTO_INCREMENT,
  fname VARCHAR(255),
  lname VARCHAR(255),
  gender ENUM('female', 'male') DEFAULT 'male',
  age INT,
  contact_add VARCHAR(255),
  email VARCHAR(255),
  password VARCHAR(255)
);

CREATE TABLE transaction_records (
  trans_id INT PRIMARY KEY AUTO_INCREMENT,
  trans_name VARCHAR(255),
  client_id INT,
  amount INT,
  datee DATE,
  CONSTRAINT FKclientID FOREIGN KEY (client_id)
    REFERENCES client(client_id)
);

CREATE TABLE reports (
  report_id INT PRIMARY KEY AUTO_INCREMENT,
  total_amount VARCHAR(255),
  datee DATE,
  client_id INT,
  trans_id INT,
  CONSTRAINT fkreportclientID FOREIGN KEY (client_id)
    REFERENCES client(client_id),
  CONSTRAINT FKtransID FOREIGN KEY (trans_id)
    REFERENCES transaction_records(trans_id)
);

CREATE TABLE trainor (
  trainor_id INT PRIMARY KEY AUTO_INCREMENT,
  trainor_name VARCHAR(255),
  salary INT,
  email VARCHAR(255),
  trainor_password VARCHAR(255)
);

CREATE TABLE membership (
  mem_id INT PRIMARY KEY AUTO_INCREMENT,
  client_id INT,
  mem_status VARCHAR(255),
  datee DATE,
  CONSTRAINT FKmemid FOREIGN KEY (client_id)
    REFERENCES client(client_id)
);

CREATE TABLE payment (
  payment_id INT PRIMARY KEY AUTO_INCREMENT,
  client_id INT,
  datee DATE,
  amount INT,
  CONSTRAINT FKpaymentid FOREIGN KEY (client_id)
    REFERENCES client(client_id)
);

CREATE TABLE sched (
  sched_id INT PRIMARY KEY AUTO_INCREMENT,
  client_id INT,
  trainor_id INT,
  sched_session VARCHAR(255),
  activity VARCHAR(255),
  datee DATE,
  time_start TIME,
  time_end TIME,
  CONSTRAINT FKschedd_client FOREIGN KEY (client_id)
    REFERENCES client(client_id),
  CONSTRAINT FKschedd_trainor FOREIGN KEY (trainor_id)
    REFERENCES trainor(trainor_id)
);


INSERT INTO client(fname,lname) VALUES ('Jack', 'Frost');
INSERT INTO sched (sched_session, activity, datee, time_start) VALUES ('YOW', 'racing', '2023/08/16', '8:30');
INSERT INTO trainor(trainor_name) VALUES ('John');

SELECT client.fname, client.lname, sched.sched_session, sched.activity, sched.datee, sched.time_start, sched.time_end, trainor.trainor_name 
FROM sched sched 
INNER JOIN client  ON client.client_id = client.client_id 
INNER JOIN trainor  ON trainor.trainor_id = trainor.trainor_id;










